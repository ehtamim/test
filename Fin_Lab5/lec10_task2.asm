.MODEL SMALL
.STACK 100H
.DATA
STRING1 DB 'TYPE A CHARACTER: $'
STRING2 DB 0AH,0DH,'THE ASCII CODE OF GIVEN INPUT IS: $'
STRING3 DB 0AH,0DH,'THE NUMBER OF 1 BITS IS: $'
COUNT DB '0'
.CODE

MAIN PROC
    MOV AX,@DATA
    MOV DS,AX
    
    LEA DX,STRING1
    MOV AH,9
    INT 21H
    
    MOV AH,1
    INT 21H
    MOV BL,AL
    
    LEA DX,STRING2
    MOV AH,9
    INT 21H
    
    MOV CL,8
CX_CMP:
    CMP CL,0H
    JE END_COMPARE
    
COMPARE:
    SHL BL,1
    JC PRINT1
    JNC PRINT
    
PRINT:
    MOV AH,2
    MOV DX,30H
    INT 21H
    DEC CL
    JMP CX_CMP
    
PRINT1:
    MOV AH,2
    MOV DX,31H
    INT 21H
    INC COUNT 
    DEC CL
    JMP CX_CMP

    
END_COMPARE:
    
    CALL TASK
    JMP EXIT    

TASK PROC
    LEA DX,STRING3
    MOV AH,9
    INT 21H
    
    ;MOV DX,0H
    
    MOV AH,2
    MOV DL,COUNT
    INT 21H
    RET

EXIT:
MOV AH,4CH
INT 21H
TASK ENDP
END  MAIN